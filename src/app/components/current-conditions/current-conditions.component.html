<dynamic-tab-container>
	<ng-container *ngFor="let location of currentConditionsByZip()">
		<dynamic-tab
			headerTitle="{{ location.data.name }} ({{ location.zip }})"
			(onClose)="locationService.removeLocation(location.zip)"
		>
			<ng-template let-tab="location">
				<div class="flex" (click)="showForecast(location.zip)">
					<div>
						<h4>
							Current conditions:
							{{ location.data.weather[0].main }}
						</h4>
						<h4>Temperatures today:</h4>
						<p>
							Current
							{{ location.data.main.temp | number : '.0-0' }} -
							Max
							{{ location.data.main.temp_max | number : '.0-0' }}
							- Min
							{{ location.data.main.temp_min | number : '.0-0' }}
						</p>
						<p>
							<a [routerLink]="['/forecast', location.zip]"
								>Show 5-day forecast for
								{{ location.data.name }}</a
							>
						</p>
					</div>
					<div>
						<img
							[src]="
								weatherService.getWeatherIcon(
									location.data.weather[0].id
								)
							"
						/>
					</div>
				</div>
			</ng-template>
		</dynamic-tab>
	</ng-container>
</dynamic-tab-container>
